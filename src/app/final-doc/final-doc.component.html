<div class="container-fluid con">
  <div class="row  res-row">
    <div class="col-md-3 col-md-offset-3">
      <div class="res-formm">
        <div
          *ngFor="let list of receipientData; let i = index"
          class="mail-section border-left-primary"
        >
          <div class="">
            <!-- <h6 class="recipi">Recipients</h6> -->
            <!-- <div class="row">
                            <div class="col-md-6">
                                <div class=" mb-3 ">
                                    <p>{{list?.Name}}</p>
                                    <p>{{list?.Email}} </p>
                                </div>                            
                            </div>
    
                            <div class="col-md-6">
                                <div class=" mb-3 ">
                                    <p>Status</p>
                                    <span *ngIf="list.VerifyFlag; then con1 else con2"></span>
                                    <ng-template #con1>
                                        <p>Completed</p>
                                    </ng-template>
                                    <ng-template #con2>
                                        <p>Signature Pending</p>
                                    </ng-template>
                                </div>
                            </div>
                        </div> -->
            <div class="card doc-side-card">
              <div class="doc-sidee">
                <div class="doc-sidebar">
                  <p class="final-name">{{ list?.Name }}</p>
                  <!-- <p class="final-mail">{{ list?.Email }}</p> -->
                </div>
                <div class="side-status">
                  <!-- <span *ngIf="list.VerifyFlag; then con1; else con2"></span> -->
                  <div *ngIf="list.VerifyFlag === true">
                    <p
                      style="
                        color: #000000e6;
                        background: rgb(0 128 0 / 30%);
                        padding: 15px 22px;
                      "
                    >
                      Completed
                    </p>
                  </div>
                  <div
                    *ngIf="list.VerifyFlag === false && list.isReject === false"
                  >
                    <p
                      style="color: #000000e6; background: rgb(255 165 0 / 50%)"
                    >
                      Pending
                    </p>
                  </div>
                  <div *ngIf="list.isReject === true">
                    <p
                      style="
                        color: #000000e6;
                        background: rgb(255 0 0 / 30%);
                        padding: 15px 22px;
                      "
                    >
                      Rejected
                    </p>
                  </div>
                </div>
              </div>

              <div class="email">
                <p>{{ list?.Email }}</p>
              </div>

            </div>
          </div>
        </div>
      </div>
      <div class="text-center"><!--  -->
        <button
          class="btn btn-primary"
          *ngIf="isDownloadflag"
          (click)=downloadPdf()
        >
          Download Pdf
        </button>
      </div>
      <!-- <button class="btn btn-primary" (click)="updateSignature()">Update Signature</button> -->
    </div>
    <div class="col-md-8 image-view" #content id="content">
      <!-- <div class="pdf-none">
                <p>&nbsp;</p>
            </div> -->
      <div class="pdfViewerSection" id="sortable" style="padding: 50px 50px;">
        <div *ngFor="let list of receipientData; let i = index">
          <div *ngFor="let pos of list.signature; let idx = index">
            <div
              class="drag-cls ui-draggable ui-draggable-handle drag"
              style="
                display: inline;
                z-index: 1;
                border-radius: 5px;
                color: rgb(255, 255, 255);
                position: relative;
              "
              [style.left.px]="pos.left"
              [style.top.px]="pos.top"
            >
              <span
                *ngIf="list.VerifyFlag; then condition1; else condition2"
              ></span>
              <ng-template #condition1>
                <img
                  style="height: 70px; width: 300px"
                  [src]="list.signatureImage"
                />
              </ng-template>
              <ng-template #condition2>
                <p
                  class="ui-state-highlight remove"
                  style="display: inline; color: #135699; font-weight: bold"
                >
                  <img style="height: 20px" src="assets/images/sign.png" />{{
                    list.Name
                  }}
                </p>
              </ng-template>
            </div>
          </div>
          <div *ngFor="let ini of list.initial; let j = index">
            <div
              class="drag-cls ui-draggable ui-draggable-handle idrag"
              style="
                display: inline;
                z-index: 1;
                border-radius: 5px;
                color: rgb(255, 255, 255);
                position: relative;
              "
              [style.left.px]="ini.left"
              [style.top.px]="ini.top"
            >
              <div
                *ngIf="list.VerifyFlag; then condition1; else condition2"
              ></div>
              <ng-template #condition1>
                <img
                  style="height: 70px; width: 300px"
                  [src]="list.initialImage"
                />
              </ng-template>
              <ng-template #condition2>
                <p
                  class="ui-state-highlight iremove"
                  style="display: inline; color: #135699; font-weight: bold"
                >
                  <img style="height: 20px" src="assets/images/digital.png" />{{
                    list.Name
                  }}
                </p>
              </ng-template>
            </div>
          </div>
          <div *ngFor="let com of list.commentsCoordinates; let j = index">
            <div
              class="drag-cls ui-draggable ui-draggable-handle idrag"
              style="
                display: inline;
                z-index: 1;
                border-radius: 5px;
                color: rgb(255, 255, 255);
                position: relative;
              "
              [style.left.px]="com.left"
              [style.top.px]="com.top"
            >
              <div
                *ngIf="list.VerifyFlag; then condition1; else condition2"
              ></div>
              <ng-template #condition1>
                <p style="color: black;">{{ list.comments }}</p>
              </ng-template>
              <ng-template #condition2>
                <p
                  class="ui-state-highlight iremove"
                  style="display: inline; color: #135699; font-weight: bold"
                >
                  <img style="height: 20px" src="assets/images/comm.png" />{{
                    list.Name
                  }}
                </p>
              </ng-template>
            </div>
          </div>
        </div>
        <pdf-viewer
          [src]="viewSrc"
          [render-text]="true"
          [render-text]="true"
          [show-all]="true"
          [fit-to-page]="true"
          style="display: block"
        >
        </pdf-viewer>
      </div>
    </div>
  </div>
</div>
