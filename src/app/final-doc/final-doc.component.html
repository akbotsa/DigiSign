<div class="container-fluid">
  <div class="row">
    <div class="col-md-3 col-md-offset-3">
      <div>
        <div
          *ngFor="let list of receipientData; let i = index"
          class="mail-section border-left-primary"
        >
          <div class="">
            <!-- <h6 class="recipi">Recipients</h6> -->
            <!-- <div class="row">
                            <div class="col-md-6">
                                <div class=" mb-3 ">
                                    <p>{{list?.Name}}</p>
                                    <p>{{list?.Email}} </p>
                                </div>                            
                            </div>
    
                            <div class="col-md-6">
                                <div class=" mb-3 ">
                                    <p>Status</p>
                                    <span *ngIf="list.VerifyFlag; then con1 else con2"></span>
                                    <ng-template #con1>
                                        <p>Completed</p>
                                    </ng-template>
                                    <ng-template #con2>
                                        <p>Signature Pending</p>
                                    </ng-template>
                                </div>
                            </div>
                        </div> -->
            <div class="card doc-side-card">
              <div class="doc-sidee">
                <div class="doc-sidebar">
                  <p class="final-name">{{ list?.Name }}</p>
                  <p class="final-mail">{{ list?.Email }}</p>
                </div>
                <div class="side-status">
                  <!-- <span *ngIf="list.VerifyFlag; then con1; else con2"></span> -->
                  <div *ngIf="list.VerifyFlag === true">
                    <p
                      style="
                        color: #000000e6;
                        background: rgb(0 128 0 / 30%);
                        padding: 15px 22px;
                      "
                    >
                      Completed
                    </p>
                  </div>
                  <div
                    *ngIf="list.VerifyFlag === false && list.isReject === false"
                  >
                    <p
                      style="color: #000000e6; background: rgb(255 165 0 / 50%)"
                    >
                      Pending
                    </p>
                  </div>
                  <div *ngIf="list.isReject === true">
                    <p
                      style="
                        color: #000000e6;
                        background: rgb(255 0 0 / 30%);
                        padding: 15px 22px;
                      "
                    >
                      Rejected
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="text-center">
        <button
          class="btn btn-primary"
          (click)="generatePdf()"
          *ngIf="isDownloadflag"
        >
          Download Pdf
        </button>
      </div>
      <!-- <button class="btn btn-primary" (click)="updateSignature()">Update Signature</button> -->
    </div>
    <div class="col-md-9 image-view" #content id="content">
      <!-- <div class="pdf-none">
                <p>&nbsp;</p>
            </div> -->
      <div class="pdfViewerSection" id="sortable">
        <div *ngFor="let list of receipientData; let i = index">
          <div *ngFor = "let como of list.comments">
            <div class="drag-cls ui-draggable ui-draggable-handle drag"  style="
              display: inline;
              z-index: 1;
              border-radius: 5px;
              position: relative;
            "
            [style.left.px]="como.left"
            [style.top.px]="como.top"
          >{{como.comment}}
            </div>
          </div>

          <div *ngFor="let pos of list.signature; let idx = index">
            <div
              class="drag-cls ui-draggable ui-draggable-handle drag"
              style="
                display: inline;
                z-index: 1;
                border-radius: 5px;
                color: rgb(255, 255, 255);
                position: relative;
              "
              [style.left.px]="pos.left"
              [style.top.px]="pos.top"
            >
              <span
                *ngIf="list.VerifyFlag; then condition1; else condition2"
              ></span>
              <ng-template #condition1>
                <img
                  style="height: 70px; width: 300px"
                  src="http://15.207.202.132:7000/api/v1/documents/document/{{
                    list.signatureImage
                  }}"
                />
              </ng-template>
              <ng-template #condition2>
                <p
                  class="ui-state-highlight remove"
                  style="display: inline; color: #135699; font-weight: bold"
                >
                  <img style="height: 20px" src="assets/images/sign.png" />{{
                    list.Name
                  }}
                </p>
              </ng-template>
            </div>
          </div>
          <div *ngFor="let ini of list.initial; let j = index">
            <div
              class="drag-cls ui-draggable ui-draggable-handle idrag"
              style="
                display: inline;
                z-index: 1;
                border-radius: 5px;
                color: rgb(255, 255, 255);
                position: relative;
              "
              [style.left.px]="ini.left"
              [style.top.px]="ini.top"
            >
              <div
                *ngIf="list.VerifyFlag; then condition1; else condition2"
              ></div>
              <ng-template #condition1>
                <img
                  style="height: 70px; width: 300px"
                  src="http://15.207.202.132:7000/api/v1/documents/document/{{
                    list.initialImage
                  }}"
                />
              </ng-template>
              <ng-template #condition2>
                <p
                  class="ui-state-highlight iremove"
                  style="display: inline; color: #135699; font-weight: bold"
                >
                  <img style="height: 20px" src="assets/images/digital.png" />{{
                    list.Name
                  }}
                </p>
              </ng-template>
            </div>
          </div>
        </div>
        <pdf-viewer
          [src]="viewSrc"
          [render-text]="true"
          [render-text]="true"
          [show-all]="true"
          [fit-to-page]="true"
          style="display: block"
        >
        </pdf-viewer>
      </div>
    </div>
  </div>
</div>
