<div class="">
  <div class="jumbotron">
    <div class="top-heading">
      <h3 class="text-center">Sign or Get Signature</h3>
      <div class="dropdown">
        <!-- data-toggle="dropdown" -->
        <button
          class="btn form-inline dropdown-toggle new-button"
          [routerLink]="['/adddocument']"
        >
          New
        </button>
        <!-- <div class="dropdown-menu">
                    <a class="dropdown-item" [routerLink]="['/adddocument']">Send in Envelope</a>
                    <a class="dropdown-item">Sign a Document</a>
                    <a class="dropdown-item">Use a Template</a>
                </div> -->
      </div>
    </div>
  </div>
  <div class="">
    <div class="row digi-main-content">
      <div class="col-md-4 d-none">
        <div class="border-right left-part" id="sidebar-wrapper">
          <!--university-->
          <div class="sidebar-heading">
            <span class="">Overview </span>
            <span class="">last 6 months</span>
          </div>
          <div class="sidebar-heading">
            <div>
              <i class="fa fa-exclamation-circle mr-2" aria-hidden="true"></i>
              Action Required
            </div>
            <div>
              <span class="">3</span>&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
          </div>
          <div class="sidebar-heading">
            <div>
              <i class="fa fa-clock-o mr-2" aria-hidden="true"></i> Waiting for
              Outhers
            </div>
            <div>
              <span class="">4</span>&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
          </div>
          <div class="sidebar-heading">
            <div>
              <i class="fa fa-warning mr-2" aria-hidden="true"></i>Exparing Soon
            </div>
            <div>
              <span class="">1</span>&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
          </div>
          <div class="sidebar-heading">
            <div>
              <i class="fa fa-check mr-2" aria-hidden="true"></i>Completed
            </div>
            <div>
              <span class="">9</span>&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Demo header-->
  <section class="py-5 header">
    <div class="container py-4">
      <div class="row">
        <div class="col-md-3">
          <!-- Tabs nav -->
          <div
            class="nav flex-column nav-pills nav-pills-custom"
            id="v-pills-tab"
            role="tablist"
            aria-orientation="vertical"
          >
            <a
              class="nav-link mb-3 p-3 shadow active"
              id="v-pills-home-tab"
              data-toggle="pill"
              href="#v-pills-home"
              role="tab"
              aria-controls="v-pills-home"
              aria-selected="true"
            >
              <i class="fa fa-user-circle-o mr-2"></i>
              <span class="font-weight-bold small text-uppercase"
                >Profile</span
              ></a
            >

            <a
              class="nav-link mb-3 p-3 shadow"
              id="v-pills-profile-tab"
              data-toggle="pill"
              href="#v-pills-profile"
              role="tab"
              aria-controls="v-pills-profile"
              aria-selected="false"
            >
              <i class="fa fa-pencil mr-2"></i>
              <span class="font-weight-bold small text-uppercase"
                >Signatures</span
              ></a
            >

            <a
              class="nav-link mb-3 p-3 shadow"
              id="v-pills-messages-tab"
              data-toggle="pill"
              href="#v-pills-messages"
              role="tab"
              aria-controls="v-pills-messages"
              aria-selected="false"
            >
              <i class="fa fa-star mr-2"></i>
              <span class="font-weight-bold small text-uppercase"
                >Initials</span
              ></a
            >

            <a
              class="nav-link mb-3 p-3 shadow"
              id="v-pills-settings-tab"
              data-toggle="pill"
              href="#v-pills-settings"
              role="tab"
              aria-controls="v-pills-settings"
              aria-selected="false"
            >
              <i class="fa fa-check mr-2"></i>
              <span class="font-weight-bold small text-uppercase"
                >Statitics</span
              ></a
            >
            <a
            class="nav-link mb-3 p-3 shadow"
            id="v-pills-changePassword-tab"
            data-toggle="pill"
            href="#v-pills-changePassword"
            role="tab"
            aria-controls="v-pills-changePassword"
            aria-selected="false"
          >
            <i class="fa fa-key mr-2"></i>
            <span class="font-weight-bold small text-uppercase"
              >Change Password</span
            ></a
          >
          </div>
        </div>

        <div class="col-md-9">
          <!-- Tabs content -->
          <div class="tab-content" id="v-pills-tabContent">
            <div
              class="tab-pane fade shadow rounded bg-white show active p-5"
              id="v-pills-home"
              role="tabpanel"
              aria-labelledby="v-pills-home-tab"
            >
              <div class="row">
                <div class="col-md-6 middle-part">
                  <h4>What's New</h4>
                  <div>
                    <h6 class="mt-3">Comments</h6>
                    <p class="text-justify">
                      Ask and answer questions about documents and receive
                      real-time comment notifications.
                      <a>More info</a>
                    </p>
                  </div>
                  <div>
                    <h6 class="mt-3">Bulk Send for multiple Recipients</h6>
                    <p class="text-justify">
                      Include multiple recipients in each envelope. Send to more
                      recipient types and specify envelope custom field values
                    </p>
                  </div>
                  <div>
                    <h6 class="mt-3">Template Sorting</h6>
                    <p class="text-justify">Sort your templates by name.</p>
                  </div>
                </div>

                <div class="col-md-6 right-part">
                  <h4>My Endorse</h4>
                  <div class="form-inline mt-3 digi-profile">
                    <img
                      src="assets/images/profile.png"
                      class="rounded-circle"
                      width="50"
                    />
                    <div>
                      <p class="ml-3 mb-0">
                        {{ this.user?.FirstName }} {{ this.user?.LastName }}
                      </p>
                      <p class="ml-3 mb-0">{{ this.user?.Email }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div
              class="tab-pane fade shadow rounded bg-white p-5"
              id="v-pills-profile"
              role="tabpanel"
              aria-labelledby="v-pills-profile-tab"
            >
              <div class="signature-main">
                <button class="btn btn-md btn-primary" (click)="sign(1)">
                  <i class="fa fa-plus pr-1" aria-hidden="true"></i>Signature
                </button>

                <div class="row">
                  <div class="col-md-4 mb-3" *ngFor="let item of signslist">
                    <div class="card">
                      <div>
                        <img class="image" [src]="imageBaseUrl + item.Sign" />

                        <div class="actions">
                          <button
                            (click)="defaultSign(item)"
                            [ngClass]="{
                              button3: item.IsDefault === true,
                              defaultColour: item.IsDefault === false
                            }"
                          >
                            Default
                          </button>
                          <!-- <button class="button-1">
                            <i class="fa fa-pencil" aria-hidden="true"></i>
                          </button> -->
                          <button class="button-2" (click)="handleSignDelete('delete',item)">
                            <i class="fa fa-trash" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div
              class="tab-pane fade shadow rounded bg-white p-5"
              id="v-pills-messages"
              role="tabpanel"
              aria-labelledby="v-pills-messages-tab"
            >
              <div class="signature-main">
                <button class="ml-3 btn btn-md btn-primary" (click)="sign(2)">
                  <i class="fa fa-plus" aria-hidden="true"></i>&nbsp;Initial
                </button>
                <div class="row">
                  <div class="col-md-4 mb-3" *ngFor="let item of initialList">
                    <div class="card">
                      <div>
                        <img class="image" [src]="imageBaseUrl + item.Sign" />

                        <div class="actions">
                          <button
                            (click)="defaultSign(item)"
                            [ngClass]="{
                              button3: item.IsDefault === true,
                              defaultColour: item.IsDefault === false
                            }"
                          >
                            Default
                          </button>
                          <!-- <button class="button-1">
                            <i class="fa fa-pencil" aria-hidden="true"></i>
                          </button> -->
                          <button class="button-2" (click)="handleSignDelete('delete',item)">
                            <i class="fa fa-trash" aria-hidden="true"></i>
                          </button>
                        </div>    
                      </div>
                    </div>
                  </div>
                </div>

                <!-- <button></button> -->
              </div>
            </div>
            <div
              class="tab-pane fade shadow rounded bg-white p-5"
              id="v-pills-changePassword"
              role="tabpanel"
              aria-labelledby="v-pills-changePassword-tab"
            >
              <div class="change-password">
                <div class="login">
                  <div class="container">
                      <div class=" login-card">
                          <div class="">
                              <!-- <h1 class="text-center logo"><span><img src="assets/images/logo.png"></span></h1> -->
                              <div>
                                  <form [formGroup]="changePasswordForm">
                                      <!-- <div class="col-md-12"> -->
                                      <!-- <div class="row"> -->
                                      <div class="form-group">
                                          <label for="">Old Password</label>
                                          <input type="text" formControlName="oldPassword" class="form-control" placeholder="Enter old Password"
                                          [ngClass]="{ 'is-invalid': changePasswordForm.controls.oldPassword.touched &&  changePasswordForm.controls.oldPassword.errors }">
                                      </div>
                                      <div class="form-group">
                                          <label for="">New Password</label>
                                          <input type="password" formControlName="newPassword" class="form-control" placeholder="enter new Password "
                                          [ngClass]="{ 'is-invalid': changePasswordForm.controls.newPassword.touched &&  changePasswordForm.controls.newPassword.errors }">

                                      </div>
                                      <div class="form-group">
                                          <button class="btn btn-block changePasswordButton" [disabled]="!changePasswordForm.valid"  (click) = "changePassword()">Change Password</button>
                                      </div>
                                      <!-- </div> -->
                                      <!-- </div> -->
                                  </form>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
                <!-- <button></button> -->
              </div>
            </div>

            <div
              class="tab-pane fade shadow rounded bg-white p-5"
              id="v-pills-settings"
              role="tabpanel"
              aria-labelledby="v-pills-settings-tab"
            >
              <div class="">
                <h4 class="mb-3">Completed</h4>
                <div class="">
                  <div class="">
                    <div class="col-md-12">
                      <div class="row">
                        <div class="col-md-4">
                          <div
                            class="card border-left-primary shadow ordersListGap"
                          >
                            <div class="card-body">
                              <p><strong>Completed:</strong></p>
                              <p class="mb-0">3</p>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div
                            class="card border-left-primary shadow ordersListGap"
                          >
                            <div class="card-body">
                              <p><strong>UnRead:</strong></p>
                              <p class="mb-0">3</p>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-4">
                          <div
                            class="card border-left-primary shadow ordersListGap"
                          >
                            <div class="card-body">
                              <p><strong>Rejected:</strong></p>
                              <p class="mb-0">3</p>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <ng-template #mymodal let-modal>
    <div class="modal-body">
      <ngb-tabset [destroyOnHide]="false">
        <ngb-tab title="Draw">
          <ng-template ngbTabContent>
            <div class="col-md-12">
              <div class="tab-sign">
                <!-- (done)="saveImage($event)" -->
                <ng-signature-pad
                  doneButtonText="Create a Signature"
                  format="blob"
                  (done)="saveImage($event)"
                  [height]="200"
                  [width]="1000"
                ></ng-signature-pad>
              </div>
            </div>
          </ng-template>
        </ngb-tab>
        <ngb-tab title="Upload">
          <ng-template ngbTabContent>
            <div class="upload-sig">
              <div class="text-center">
                <div class="imagePreview" *ngIf="imageURL && imageURL !== ''">
                  <img [src]="imageURL" alt="upimages" width="200px" />
                </div>
                <button
                  class="btn btn-primary btn-block"
                  type="button"
                  (click)="fileInput.click()"
                >
                  <span>UPLOAD</span>
                  <input
                    #fileInput
                    type="file"
                    (change)="onFileSelected($event)"
                    id="file"
                    style="display: none"
                    accept="image/*"
                  />
                </button>
              </div>
            </div>
            <button
              type="button"
              class="btn btn-outline-dark"
              (click)="modal.close('Save click')"
            >
              Cancel
            </button>
            <!-- (click)="uploadSignature()" -->
            <button
              type="button"
              class="btn btn-outline-dark"
              (click)="uploadSignature()"
              *ngIf="imageURL && imageURL !== ''"
            >
              Create Signature
            </button>
          </ng-template>
        </ngb-tab>
      </ngb-tabset>
    </div>
  </ng-template>
</div>
